(()=>{var e={};e.id=344,e.ids=[344],e.modules={81:(e,s,t)=>{Promise.resolve().then(t.bind(t,7358))},739:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c});var r=t(5239),n=t(8088),i=t(8170),a=t.n(i),l=t(893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(s,o);let c={children:["",{children:["exam",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,6872)),"C:\\tauri-app\\src\\app\\exam\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,4431)),"C:\\tauri-app\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["C:\\tauri-app\\src\\app\\exam\\page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/exam/page",pathname:"/exam",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4304:(e,s,t)=>{"use strict";t.d(s,{j:()=>n});var r=t(687);function n({children:e}){return(0,r.jsx)("footer",{className:"sticky bottom-0 z-10 bg-background/80 backdrop-blur-sm border-t p-4 flex flex-wrap justify-between gap-2 mt-auto",children:e})}},6872:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\tauri-app\\\\src\\\\app\\\\exam\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\tauri-app\\src\\app\\exam\\page.tsx","default")},7358:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>B});var r=t(687),n=t(4780),i=t(5822);function a({index:e,text:s,isSelected:t,onClick:a}){return(0,r.jsxs)("button",{className:(0,n.cn)("flex items-center w-full p-3 rounded-md border text-left transition-all",t?"bg-primary/10 border-primary/50 border-2":"hover:bg-secondary/50 border-border"),onClick:a,children:[(0,r.jsx)("div",{className:"mr-3",children:t?(0,r.jsx)("div",{className:"h-6 w-6 rounded-full bg-primary flex items-center justify-center text-primary-foreground",children:e+1}):(0,r.jsx)("div",{className:"h-6 w-6 rounded-full border-2 border-muted-foreground flex items-center justify-center",children:e+1})}),(0,r.jsx)("div",{className:"flex-1 text-base sm:text-lg",children:s}),(0,r.jsx)("div",{className:"ml-2",children:t&&(0,r.jsx)(i.A,{className:"h-5 w-5 fill-primary stroke-primary-foreground"})})]})}var l=t(3500),o=t(9523);function c({isFinish:e,onConfirm:s}){return(0,r.jsxs)(l.Lt,{children:[(0,r.jsx)(l.tv,{asChild:!0,children:(0,r.jsx)(o.$,{className:"w-30 h-10 text-xl",children:"Закончить"})}),(0,r.jsxs)(l.EO,{children:[(0,r.jsxs)(l.wd,{children:[(0,r.jsx)(l.r7,{children:"Вы уверены?"}),!e&&(0,r.jsx)(l.$v,{children:"Вы еще не ответили на все вопросы"})]}),(0,r.jsxs)(l.ck,{children:[(0,r.jsx)(l.Zr,{children:"Отменить"}),(0,r.jsx)(l.Rx,{onClick:s,children:"Закончить тестирование"})]})]})]})}var d=t(3210),u=t(1273),x=t(4163),m="Progress",[h,g]=(0,u.A)(m),[p,f]=h(m),v=d.forwardRef((e,s)=>{var t,n;let{__scopeProgress:i,value:a=null,max:l,getValueLabel:o=w,...c}=e;(l||0===l)&&!k(l)&&console.error((t=`${l}`,`Invalid prop \`max\` of value \`${t}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let d=k(l)?l:100;null===a||C(a,d)||console.error((n=`${a}`,`Invalid prop \`value\` of value \`${n}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let u=C(a,d)?a:null,m=y(u)?o(u,d):void 0;return(0,r.jsx)(p,{scope:i,value:u,max:d,children:(0,r.jsx)(x.sG.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":y(u)?u:void 0,"aria-valuetext":m,role:"progressbar","data-state":N(u,d),"data-value":u??void 0,"data-max":d,...c,ref:s})})});v.displayName=m;var j="ProgressIndicator",b=d.forwardRef((e,s)=>{let{__scopeProgress:t,...n}=e,i=f(j,t);return(0,r.jsx)(x.sG.div,{"data-state":N(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:s})});function w(e,s){return`${Math.round(e/s*100)}%`}function N(e,s){return null==e?"indeterminate":e===s?"complete":"loading"}function y(e){return"number"==typeof e}function k(e){return y(e)&&!isNaN(e)&&e>0}function C(e,s){return y(e)&&!isNaN(e)&&e<=s&&e>=0}function Q({className:e,value:s,...t}){return(0,r.jsx)(v,{"data-slot":"progress",className:(0,n.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...t,children:(0,r.jsx)(b,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})})}function A({currentQuestion:e,totalQuestions:s,progressPercentage:t}){return(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,r.jsxs)("span",{className:"text-base",children:["Вопрос ",e+1," из ",s]}),(0,r.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Прогресс: ",Math.round(t),"%"]})]}),(0,r.jsx)(Q,{value:t,className:"h-2"})]})}b.displayName=j;var q=t(2688);let S=(0,q.A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),R=(0,q.A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),$=(0,q.A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),P=(0,q.A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);function T({initialMinutes:e,onTimeUp:s,className:t}){let[i,a]=(0,d.useState)(60*e),[l,o]=(0,d.useState)(!1),[c,u]=(0,d.useState)(!1);return(0,r.jsxs)("div",{className:(0,n.cn)("flex items-center gap-2 font-mono text-lg",l&&"text-yellow-500",c&&"text-red-500 animate-pulse",t),children:[(0,r.jsx)($,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:(e=>{let s=Math.floor(e/60),t=e%60;return`${s}:${t<10?"0":""}${t}`})(i)})]})}function I({studentName:e,examDate:s,timeSpent:t,terminationReason:i,finalScore:a,pointsScore:l,gradeScore:o,correctAnswers:c,totalQuestions:d,selectedAnswers:u,isAnswerCorrect:x}){return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2 mt-2 text-base",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(S,{className:"h-4 w-4"}),(0,r.jsxs)("span",{children:["Студент: ",e]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(R,{className:"h-4 w-4"}),(0,r.jsxs)("span",{children:["Дата:"," ",s?new Intl.DateTimeFormat("ru-RU",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(s):"Не указана"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)($,{className:"h-4 w-4"}),(0,r.jsxs)("span",{children:["Время выполнения: ",function(e){let s=Math.floor(e/60),t=Math.floor(s/60);return t>0?`${t} ч ${s%60} мин`:`${s} мин ${e%60} сек`}(t)]})]}),i&&(0,r.jsxs)("div",{className:"flex items-center gap-2 text-red-500",children:[(0,r.jsx)(P,{className:"h-4 w-4"}),(0,r.jsxs)("span",{children:["Причина завершения: ",i]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 w-full mt-6",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center p-3 border rounded-lg",children:[(0,r.jsx)("div",{className:"text-base font-medium mb-1",children:"Процент"}),(0,r.jsxs)("div",{className:"text-2xl sm:text-3xl font-bold",children:[a.toFixed(1),"%"]})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center p-3 border rounded-lg",children:[(0,r.jsx)("div",{className:"text-base font-medium mb-1",children:"Баллы"}),(0,r.jsxs)("div",{className:"text-2xl sm:text-3xl font-bold",children:[l,"/100"]})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center p-3 border rounded-lg",children:[(0,r.jsx)("div",{className:"text-base font-medium mb-1",children:"Оценка"}),(0,r.jsxs)("div",{className:"text-2xl sm:text-3xl font-bold",children:[o,"/5"]})]})]}),(0,r.jsxs)("div",{className:"text-lg sm:text-xl mt-6",children:["Правильных ответов: ",c," из ",d]}),(0,r.jsx)(Q,{value:a,className:"w-full h-3 mt-2"}),(0,r.jsxs)("div",{className:"w-full mt-6",children:[(0,r.jsx)("h3",{className:"text-base sm:text-lg mb-2",children:"Результаты по вопросам:"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2 justify-center",children:Array.from({length:d}).map((e,s)=>{let t=void 0!==u[s],i=x(s);return(0,r.jsx)("div",{className:(0,n.cn)("h-8 w-8 rounded-full text-sm flex items-center justify-center",t&&i?"bg-green-500 text-white":t&&!i?"bg-red-500 text-white":"bg-yellow-500 text-white"),title:t?i?"Правильно":"Неправильно":"Не отвечено",children:s+1},`result-${s}`)})})]}),(0,r.jsx)("div",{className:"text-base sm:text-lg mt-6 text-center",children:o>=4?"Отличный результат! Вы хорошо подготовлены.":o>=3?"Хороший результат! Есть некоторые области для улучшения.":"Вам стоит повторить материал и попробовать снова."})]})}var M=t(4304),O=t(8198);let _=(0,q.A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),F=(0,q.A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);function E({currentIndex:e,totalItems:s,onSelect:t,selectedItems:i={},isReview:a=!1,isAnswerCorrect:l=()=>!1}){let[c,u]=(0,d.useState)(!1);return(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)(o.$,{variant:"ghost",size:"sm",onClick:()=>{u(!c)},className:"flex items-center justify-center w-full text-sm py-1 h-auto",children:c?(0,r.jsxs)(r.Fragment,{children:["Скрыть навигацию ",(0,r.jsx)(_,{className:"ml-1 h-4 w-4"})]}):(0,r.jsxs)(r.Fragment,{children:["Показать навигацию ",(0,r.jsx)(F,{className:"ml-1 h-4 w-4"})]})}),c&&(0,r.jsx)("div",{className:"flex flex-wrap justify-center gap-2 mt-2 p-2 border rounded-md bg-background/50 backdrop-blur-sm",children:Array.from({length:s}).map((s,o)=>{let c=o===e,d=void 0!==i[o],u="";return u=a&&d?l(o)?"bg-green-500 hover:bg-green-600 text-white":"bg-red-500 hover:bg-red-600 text-white":d?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground",(0,r.jsx)("button",{className:(0,n.cn)("h-8 w-8 rounded-full text-sm flex items-center justify-center transition-colors",c?"ring-2 ring-offset-2 ring-offset-background ring-primary":"",u),onClick:()=>t(o),children:o+1},`pagination-${o}`)})})]})}function D({title:e}){let s=e.split("\n").map((s,t)=>(0,r.jsxs)(d.Fragment,{children:[s,t<e.split("\n").length-1&&(0,r.jsx)("br",{})]},t));return(0,r.jsx)("div",{children:s})}let z=(0,q.A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);function L({index:e,text:s,isSelected:t,isCorrect:i}){let a="";return t&&i?a="bg-green-100 dark:bg-green-900/30":t&&!i?a="bg-red-100 dark:bg-red-900/30":!t&&i&&(a="bg-green-50 dark:bg-green-900/20"),(0,r.jsxs)("div",{className:(0,n.cn)("flex items-center p-3 rounded-md border",a,t&&"border-2",t&&i?"border-green-500":t&&!i?"border-red-500":!t&&i?"border-green-300":"border-gray-200"),children:[(0,r.jsx)("div",{className:"mr-3",children:(0,r.jsx)("div",{className:(0,n.cn)("h-6 w-6 rounded-full flex items-center justify-center",t&&i?"bg-green-500 text-white":t&&!i?"bg-red-500 text-white":!t&&i?"bg-green-200 text-green-800":"border-2 border-muted-foreground"),children:e+1})}),(0,r.jsx)("div",{className:"flex-1 text-base sm:text-lg",children:s}),(0,r.jsxs)("div",{className:"ml-2",children:[t&&i&&(0,r.jsx)(z,{className:"h-5 w-5 text-green-500"}),t&&!i&&(0,r.jsx)(P,{className:"h-5 w-5 text-red-500"}),!t&&i&&(0,r.jsx)(z,{className:"h-5 w-5 text-green-500 opacity-50"})]})]})}var G=t(4307),U=t(1733),X=t(6189);function B(){let e=function(){let e=(0,X.useRouter)(),[s,t]=(0,d.useState)({settings:null,questions:[],currentQuestion:0,selectedAnswers:{},selectedOriginalAnswers:{},isFinished:!1,finalScore:0,pointsScore:0,gradeScore:0,showResults:!1,showReview:!1,progress:0,reviewQuestion:0,startTime:null,endTime:null,timeSpent:0,isLoading:!0,examDate:null,terminationReason:null}),r=(0,d.useCallback)(e=>{t(s=>({...s,...e}))},[]);(0,d.useCallback)(async()=>{r({isLoading:!0});try{let s=await (0,U.X8)();if(!s){e.push("/exam/settings");return}let t=new Date,i=t.toISOString(),a=await fetch(G.AL).then(e=>e.json()),l=s.tasksCount||30,o=(0,n.k)(a.questions).slice(0,l).map(e=>{let s=e.answers.map((e,s)=>({...e,originalIndex:s}));return{...e,answers:(0,n.k)(s)}});r({settings:s,questions:o,startTime:t,examDate:i,progress:0,isLoading:!1})}catch(s){console.error("Error initializing exam:",s),e.push("/exam/settings")}},[e,r]);let i=(0,d.useCallback)(e=>{t(s=>{let t=s.questions[s.currentQuestion].answers[e].originalIndex,r={...s.selectedAnswers,[s.currentQuestion]:e},n={...s.selectedOriginalAnswers,[s.currentQuestion]:t},i=Object.keys(r).length/s.questions.length*100,a=isNaN(i)?0:i;return{...s,selectedAnswers:r,selectedOriginalAnswers:n,progress:a}})},[]),a=(0,d.useCallback)(()=>t(e=>{if(0===e.questions.length)return{...e,progress:0};let s=Object.keys(e.selectedAnswers).length/e.questions.length*100;return{...e,progress:isNaN(s)?0:s}}),[]),l=(0,d.useCallback)(()=>{t(e=>e.currentQuestion<e.questions.length-1?{...e,currentQuestion:e.currentQuestion+1}:e)},[]),o=(0,d.useCallback)(()=>{t(e=>e.currentQuestion>0?{...e,currentQuestion:e.currentQuestion-1}:e)},[]),c=(0,d.useCallback)(e=>{r({currentQuestion:e})},[r]),u=(0,d.useCallback)(()=>{t(e=>e.reviewQuestion<e.questions.length-1?{...e,reviewQuestion:e.reviewQuestion+1}:e)},[]),x=(0,d.useCallback)(()=>{t(e=>e.reviewQuestion>0?{...e,reviewQuestion:e.reviewQuestion-1}:e)},[]),m=(0,d.useCallback)(e=>{r({reviewQuestion:e})},[r]);(0,d.useCallback)(async e=>{t(s=>s.isFinished?s:{...s,terminationReason:e}),await g()},[]);let h=(0,d.useCallback)(()=>{t(e=>{let s=0;Object.entries(e.selectedOriginalAnswers).forEach(([t,r])=>{let n=e.questions[Number.parseInt(t)].answers.filter(e=>e.originalIndex===r);n.length>0&&n[0].isCorrect&&s++});let t=e.questions.length>0?s/e.questions.length*100:0,r=Math.round(t),n=2;return t>=90?n=5:t>=75?n=4:t>=60&&(n=3),{...e,finalScore:t,pointsScore:r,gradeScore:n}})},[]),g=(0,d.useCallback)(async()=>{t(e=>{if(e.isFinished)return e;let s=new Date,t=0;return e.startTime&&(t=Math.floor((s.getTime()-e.startTime.getTime())/1e3)),{...e,isFinished:!0,endTime:s,timeSpent:t}}),h(),r({showResults:!0}),await (0,U.kq)(),t(e=>{if(e.settings){let s=new Date,t=Math.round(e.finalScore/100*e.questions.length);(0,U.I2)({studentName:e.settings.studentName,date:e.examDate||s.toISOString(),score:e.finalScore,pointsScore:e.pointsScore,gradeScore:e.gradeScore,timeSpent:e.timeSpent,questionsCount:e.questions.length,correctAnswers:t,terminationReason:e.terminationReason}).catch(e=>{console.error("Error saving exam results:",e)})}return e})},[h,r]),p=(0,d.useCallback)(()=>{t(e=>(e.isFinished||g(),e))},[g]),f=(0,d.useCallback)(()=>{e.push("/")},[e]),v=(0,d.useCallback)(()=>{r({showResults:!1,showReview:!0,reviewQuestion:0})},[r]),j=(0,d.useCallback)(()=>{r({showReview:!1,showResults:!0})},[r]),b=(0,d.useCallback)(e=>{if(void 0===s.selectedOriginalAnswers[e])return!1;let t=s.selectedOriginalAnswers[e],r=s.questions[e].answers.filter(e=>e.originalIndex===t);return r.length>0&&r[0].isCorrect},[s.questions,s.selectedOriginalAnswers]),w=(0,d.useCallback)(e=>void 0===s.selectedAnswers[e]?"Не отвечено":b(e)?"Правильно":"Неправильно",[s.selectedAnswers,b]);return{...s,handleAnswerSelect:i,handleNextQuestion:l,handlePrevQuestion:o,handleJumpToQuestion:c,handleNextReviewQuestion:u,handlePrevReviewQuestion:x,handleJumpToReviewQuestion:m,handleFinishExam:g,handleTimeUp:p,handleReturnHome:f,handleShowReview:v,handleBackToResults:j,isAnswerCorrect:b,getUserAnswerStatus:w,calculateProgressValue:a}}();if(e.showReview){let s=e.questions[e.reviewQuestion],t=e.selectedAnswers[e.reviewQuestion],n=e.getUserAnswerStatus(e.reviewQuestion),i="Правильно"===n?"text-green-500":"Неправильно"===n?"text-red-500":"text-yellow-500",a=(0,r.jsxs)(M.j,{children:[(0,r.jsx)(o.$,{variant:"outline",className:"h-10 text-base",onClick:e.handlePrevReviewQuestion,disabled:0===e.reviewQuestion,children:"Назад"}),(0,r.jsx)(o.$,{variant:"outline",className:"h-10 text-base",onClick:e.handleBackToResults,children:"К результатам"}),(0,r.jsx)(o.$,{className:"h-10 text-base",onClick:e.handleNextReviewQuestion,disabled:e.reviewQuestion===e.questions.length-1,children:"Далее"})]});return(0,r.jsxs)(O.e,{headerTitle:"Просмотр ответов",footer:a,children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mt-2 gap-2",children:[(0,r.jsxs)("span",{className:"text-base",children:["Вопрос ",e.reviewQuestion+1," из ",e.questions.length]}),(0,r.jsx)("span",{className:`text-base font-medium flex items-center gap-2 ${i}`,children:n})]}),(0,r.jsx)(A,{currentQuestion:e.reviewQuestion,totalQuestions:e.questions.length,progressPercentage:(e.reviewQuestion+1)/e.questions.length*100}),(0,r.jsx)(E,{currentIndex:e.reviewQuestion,totalItems:e.questions.length,onSelect:e.handleJumpToReviewQuestion,selectedItems:e.selectedAnswers,isReview:!0,isAnswerCorrect:e.isAnswerCorrect}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("h3",{className:"text-lg sm:text-xl mb-4",children:(0,r.jsx)(D,{title:s.title})}),(0,r.jsx)("div",{className:"mt-4 space-y-3",children:s.answers.map((e,s)=>(0,r.jsx)(L,{index:s,text:e.text,isSelected:t===s,isCorrect:e.isCorrect},`review-answer-${s}`))})]})]})}if(e.showResults){let s=(0,r.jsxs)(M.j,{children:[(0,r.jsx)(o.$,{className:"h-10 text-base",onClick:e.handleReturnHome,children:"На главную"}),(0,r.jsx)(o.$,{className:"h-10 text-base",onClick:e.handleShowReview,children:"Просмотр ответов"})]});return(0,r.jsx)(O.e,{headerTitle:"Результаты тестирования",footer:s,children:e.settings&&(0,r.jsx)(I,{studentName:e.settings.studentName,examDate:e.endTime,timeSpent:e.timeSpent,terminationReason:e.terminationReason,finalScore:e.finalScore,pointsScore:e.pointsScore,gradeScore:e.gradeScore,correctAnswers:Math.round(e.finalScore/100*e.questions.length),totalQuestions:e.questions.length,selectedAnswers:e.selectedAnswers,isAnswerCorrect:e.isAnswerCorrect})})}if(e.isLoading||!e.settings)return(0,r.jsx)(O.e,{isLoading:!0});let s=(0,r.jsxs)(M.j,{children:[(0,r.jsx)(o.$,{variant:"outline",className:"h-10 text-base",onClick:e.handlePrevQuestion,disabled:e.currentQuestion<1,children:"Назад"}),(0,r.jsx)(c,{isFinish:Object.keys(e.selectedAnswers).length===e.questions.length,onConfirm:e.handleFinishExam}),e.currentQuestion<e.questions.length-1?(0,r.jsx)(o.$,{className:"h-10 text-base",onClick:e.handleNextQuestion,children:"Далее"}):(0,r.jsx)(o.$,{className:"h-10 text-base",onClick:e.handleFinishExam,children:"Завершить"})]});return(0,r.jsxs)(O.e,{headerTitle:"Тестирование",footer:s,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(S,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"text-base",children:e.settings.studentName})]}),(0,r.jsx)(T,{initialMinutes:e.settings.timeTaken,onTimeUp:e.handleTimeUp,className:"text-base"})]}),(0,r.jsx)(A,{currentQuestion:e.currentQuestion,totalQuestions:e.questions.length,progressPercentage:e.progress}),(0,r.jsx)(E,{currentIndex:e.currentQuestion,totalItems:e.questions.length,onSelect:e.handleJumpToQuestion,selectedItems:e.selectedAnswers}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("h3",{className:"text-lg sm:text-xl mb-4",children:(0,r.jsx)(D,{title:e.questions[e.currentQuestion].title})}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:void 0!==e.selectedAnswers[e.currentQuestion]?`Выбран ответ: ${e.selectedAnswers[e.currentQuestion]+1}`:"Ответ не выбран"}),(0,r.jsx)("div",{className:"mt-4 space-y-3",children:e.questions[e.currentQuestion].answers.map((s,t)=>(0,r.jsx)(a,{index:t,text:s.text,isSelected:e.selectedAnswers[e.currentQuestion]===t,onClick:()=>e.handleAnswerSelect(t)},`answer-${t}`))})]})]})}},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9809:(e,s,t)=>{Promise.resolve().then(t.bind(t,6872))}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[98,444,103,198],()=>t(739));module.exports=r})();