"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[805],{10:(e,t,a)=>{a.d(t,{$v:()=>f,EO:()=>u,Lt:()=>l,Rx:()=>h,Zr:()=>p,ck:()=>x,r7:()=>g,tv:()=>o,wd:()=>m});var s=a(5155);a(2115);var r=a(7649),n=a(9434),i=a(285);function l(e){let{...t}=e;return(0,s.jsx)(r.bL,{"data-slot":"alert-dialog",...t})}function o(e){let{...t}=e;return(0,s.jsx)(r.l9,{"data-slot":"alert-dialog-trigger",...t})}function c(e){let{...t}=e;return(0,s.jsx)(r.ZL,{"data-slot":"alert-dialog-portal",...t})}function d(e){let{className:t,...a}=e;return(0,s.jsx)(r.hJ,{"data-slot":"alert-dialog-overlay",className:(0,n.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function u(e){let{className:t,...a}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(d,{}),(0,s.jsx)(r.UC,{"data-slot":"alert-dialog-content",className:(0,n.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...a})]})}function m(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,n.cn)("flex flex-col gap-2 text-center sm:text-left",t),...a})}function x(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,n.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...a})}function g(e){let{className:t,...a}=e;return(0,s.jsx)(r.hE,{"data-slot":"alert-dialog-title",className:(0,n.cn)("text-lg font-semibold",t),...a})}function f(e){let{className:t,...a}=e;return(0,s.jsx)(r.VY,{"data-slot":"alert-dialog-description",className:(0,n.cn)("text-muted-foreground text-sm",t),...a})}function h(e){let{className:t,...a}=e;return(0,s.jsx)(r.rc,{className:(0,n.cn)((0,i.r)(),t),...a})}function p(e){let{className:t,...a}=e;return(0,s.jsx)(r.ZD,{className:(0,n.cn)((0,i.r)({variant:"outline"}),t),...a})}},229:(e,t,a)=>{a.d(t,{SettingsProvider:()=>o,t:()=>c});var s=a(5155),r=a(2444),n=a(2115);let i=(0,n.createContext)(void 0),l=e=>{let t=document.documentElement,a=document.body;switch(a.classList.remove("font-size-small","font-size-medium","font-size-large"),a.classList.add("font-size-".concat(e)),e){case"small":t.style.setProperty("--base-font-size","16px");break;case"medium":t.style.setProperty("--base-font-size","20px");break;case"large":t.style.setProperty("--base-font-size","24px")}};function o(e){let{children:t}=e,[a,o]=(0,n.useState)("medium"),[c,d]=(0,n.useState)(!1),u=async()=>{try{let e=await (0,r.nt)();if(null==e?void 0:e.fontSize)o(e.fontSize),l(e.fontSize);else{let e=await (0,r.Xb)()?"small":"medium";o(e),l(e),await (0,r.Wp)({fontSize:e,theme:null})}}catch(t){console.error("Error loading settings:",t);let e=localStorage.getItem("appFontSize");if(e)o(e),l(e);else{let e=window.innerWidth<768?"small":"medium";o(e),l(e),localStorage.setItem("appFontSize",e)}}d(!0)};return(0,n.useEffect)(()=>{u()},[]),(0,n.useEffect)(()=>{c&&(localStorage.setItem("appFontSize",a),l(a),(0,r.Wp)({fontSize:a,theme:localStorage.getItem("theme")}).catch(console.error))},[a,c]),(0,s.jsx)(i.Provider,{value:{fontSize:a,setFontSize:o,loadTauriSettings:u},children:t})}function c(){let e=(0,n.useContext)(i);if(void 0===e)throw Error("useSettings must be used within a SettingsProvider");return e}},285:(e,t,a)=>{a.d(t,{$:()=>o,r:()=>l});var s=a(5155);a(2115);var r=a(9708),n=a(2085),i=a(9434);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:a,size:n,asChild:o=!1,...c}=e,d=o?r.DX:"button";return(0,s.jsx)(d,{"data-slot":"button",className:(0,i.cn)(l({variant:a,size:n,className:t})),...c})}},2444:(e,t,a)=>{function s(){return void 0!==window.__TAURI__||"__TAURI_METADATA__"in window||navigator.userAgent.includes("Tauri")}async function r(e){try{if(s()){let{load:t}=await a.e(813).then(a.bind(a,2813));return await t(e)}return null}catch(t){return console.error("Ошибка при получении хранилища ".concat(e,":"),t),null}}async function n(e){try{if(s()){let t=await r("settings.dat");if(t){await t.set("appSettings",e),await t.save();return}}localStorage.setItem("appSettings",JSON.stringify(e))}catch(t){console.error("Ошибка при сохранении настроек приложения:",t),localStorage.setItem("appSettings",JSON.stringify(e))}}async function i(){try{if(s()){let e=await r("settings.dat");if(e)return await e.get("appSettings")}let e=localStorage.getItem("appSettings");return e?JSON.parse(e):null}catch(t){console.error("Ошибка при загрузке настроек приложения:",t);let e=localStorage.getItem("appSettings");return e?JSON.parse(e):null}}async function l(e){try{if(s()){let t=await r("exam-settings.dat");if(t){await t.set("examSettings",e),await t.save();return}}localStorage.setItem("examSettings",JSON.stringify(e))}catch(t){console.error("Ошибка при сохранении настроек экзамена:",t),localStorage.setItem("examSettings",JSON.stringify(e))}}async function o(){try{if(s()){let e=await r("exam-settings.dat");if(e)return await e.get("examSettings")}let e=localStorage.getItem("examSettings");return e?JSON.parse(e):null}catch(t){console.error("Ошибка при загрузке настроек экзамена:",t);let e=localStorage.getItem("examSettings");return e?JSON.parse(e):null}}async function c(e){try{if(s()){let t=await r("exam-results.dat");if(t){let a=[...await t.get("examResults")||[],e];await t.set("examResults",a),await t.set("lastExamResult",e),await t.save();return}}let t=localStorage.getItem("examResults"),a=t?JSON.parse(t):[];a.push(e),localStorage.setItem("examResults",JSON.stringify(a)),localStorage.setItem("lastExamResult",JSON.stringify(e))}catch(s){console.error("Ошибка при сохранении результатов экзамена:",s);let t=localStorage.getItem("examResults"),a=t?JSON.parse(t):[];a.push(e),localStorage.setItem("examResults",JSON.stringify(a)),localStorage.setItem("lastExamResult",JSON.stringify(e))}}async function d(e){try{if(s()){let t=await r("exam-progress.dat");if(t){await t.set("examProgress",e),await t.save();return}}sessionStorage.setItem("examProgress",JSON.stringify(e))}catch(t){console.error("Ошибка при сохранении прогресса экзамена:",t),sessionStorage.setItem("examProgress",JSON.stringify(e))}}async function u(){try{if(s()){let e=await r("exam-progress.dat");if(e){await e.delete("examProgress"),await e.save();return}}sessionStorage.removeItem("examProgress")}catch(e){console.error("Ошибка при очистке прогресса экзамена:",e),sessionStorage.removeItem("examProgress")}}async function m(){try{if(s()){let e=await r("settings.dat");e&&(await e.clear(),await e.save());let t=await r("exam-settings.dat");t&&(await t.clear(),await t.save());let a=await r("exam-results.dat");a&&(await a.clear(),await a.save());let s=await r("exam-progress.dat");s&&(await s.clear(),await s.save());return}localStorage.clear(),sessionStorage.clear()}catch(e){console.error("Ошибка при очистке данных:",e),localStorage.clear(),sessionStorage.clear()}}async function x(){try{if(s()){let{platform:e}=await a.e(790).then(a.bind(a,8790)),t=await e();return"android"===t||"ios"===t}return window.innerWidth<768}catch(e){return console.error("Ошибка при определении устройства:",e),window.innerWidth<768}}a.d(t,{Bq:()=>m,I2:()=>c,Kw:()=>s,Wp:()=>n,X8:()=>o,Xb:()=>x,kq:()=>u,nt:()=>i,sV:()=>d,uL:()=>l})},4559:(e,t,a)=>{a.d(t,{AL:()=>l,C3:()=>i,VL:()=>o,hl:()=>n,ng:()=>c});var s=a(2444),r=a(9509);let n=function(){let e=r.env.NEXT_PUBLIC_APP_VERSION||"tech";if(!(0,s.Kw)())try{let e=new URLSearchParams(window.location.search).get("version");if(e&&["tech","human"].includes(e))return e}catch(e){console.error("Error parsing URL parameters:",e)}return e}(),i="tech"===n?"Техник версия":"Гуманитарная версия",l="tech"===n?"/tech.json":"/human.json",o="1.0.0";async function c(){try{let e=await a.e(6).then(a.bind(a,4006));return await e.getName(),!0}catch(e){return!1}}},5057:(e,t,a)=>{a.d(t,{J:()=>i});var s=a(5155);a(2115);var r=a(968),n=a(9434);function i(e){let{className:t,...a}=e;return(0,s.jsx)(r.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}},6805:(e,t,a)=>{a.d(t,{e:()=>P});var s=a(5155);function r(e){let{message:t="Загрузка..."}=e;return(0,s.jsx)("div",{className:"min-h-screen flex justify-center items-center p-4",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),(0,s.jsx)("p",{children:t})]})})}var n=a(4559),i=a(7550),l=a(5695),o=a(381),c=a(2115),d=a(10),u=a(285),m=a(3470),x=a(4416),g=a(9434);function f(e){let{...t}=e;return(0,s.jsx)(m.bL,{"data-slot":"dialog",...t})}function h(e){let{...t}=e;return(0,s.jsx)(m.ZL,{"data-slot":"dialog-portal",...t})}function p(e){let{className:t,...a}=e;return(0,s.jsx)(m.hJ,{"data-slot":"dialog-overlay",className:(0,g.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function v(e){let{className:t,children:a,...r}=e;return(0,s.jsxs)(h,{"data-slot":"dialog-portal",children:[(0,s.jsx)(p,{}),(0,s.jsxs)(m.UC,{"data-slot":"dialog-content",className:(0,g.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[a,(0,s.jsxs)(m.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,s.jsx)(x.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function j(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"dialog-header",className:(0,g.cn)("flex flex-col gap-2 text-center sm:text-left",t),...a})}function b(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"dialog-footer",className:(0,g.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...a})}function w(e){let{className:t,...a}=e;return(0,s.jsx)(m.hE,{"data-slot":"dialog-title",className:(0,g.cn)("text-lg leading-none font-semibold",t),...a})}function y(e){let{className:t,...a}=e;return(0,s.jsx)(m.VY,{"data-slot":"dialog-description",className:(0,g.cn)("text-muted-foreground text-sm",t),...a})}var N=a(5057),S=a(7701),k=a(9428);function z(e){let{className:t,...a}=e;return(0,s.jsx)(S.bL,{"data-slot":"radio-group",className:(0,g.cn)("grid gap-3",t),...a})}function I(e){let{className:t,...a}=e;return(0,s.jsx)(S.q7,{"data-slot":"radio-group-item",className:(0,g.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...a,children:(0,s.jsx)(S.C1,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,s.jsx)(k.A,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}var J=a(229),O=a(2444),_=a(1362);function C(e){let{open:t,onOpenChange:a}=e,{fontSize:r,setFontSize:n}=(0,J.t)(),{theme:i,setTheme:l}=(0,_.D)(),[o,m]=(0,c.useState)(!1),x=async()=>{try{await (0,O.Bq)(),m(!1),alert("Все данные успешно удалены"),window.location.reload()}catch(e){console.error("Ошибка при очистке данных:",e),alert("Произошла ошибка при удалении данных")}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f,{open:t,onOpenChange:a,children:(0,s.jsxs)(v,{className:"sm:max-w-[425px]",children:[(0,s.jsxs)(j,{children:[(0,s.jsx)(w,{children:"Настройки приложения"}),(0,s.jsx)(y,{children:"Настройте внешний вид и поведение приложения"})]}),(0,s.jsxs)("div",{className:"py-4 space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(N.J,{className:"text-lg",children:"Размер шрифта"}),(0,s.jsxs)(z,{value:r,onValueChange:e=>n(e),className:"flex flex-col space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(I,{value:"small",id:"small"}),(0,s.jsx)(N.J,{htmlFor:"small",className:"text-base",children:"Маленький"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(I,{value:"medium",id:"medium"}),(0,s.jsx)(N.J,{htmlFor:"medium",className:"text-base",children:"Средний"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(I,{value:"large",id:"large"}),(0,s.jsx)(N.J,{htmlFor:"large",className:"text-base",children:"Большой"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(N.J,{className:"text-lg",children:"Тема оформления"}),(0,s.jsxs)(z,{value:i||"system",onValueChange:l,className:"flex flex-col space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(I,{value:"light",id:"light"}),(0,s.jsx)(N.J,{htmlFor:"light",className:"text-base",children:"Светлая"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(I,{value:"dark",id:"dark"}),(0,s.jsx)(N.J,{htmlFor:"dark",className:"text-base",children:"Темная"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(I,{value:"system",id:"system"}),(0,s.jsx)(N.J,{htmlFor:"system",className:"text-base",children:"Системная (рекомендуется)"})]})]})]}),(0,s.jsxs)("div",{className:"pt-4 border-t",children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Управление данными"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Вы можете удалить все сохраненные данные приложения, включая настройки и результаты тестов."}),(0,s.jsx)(u.$,{variant:"destructive",onClick:()=>m(!0),className:"w-full",children:"Удалить все данные"})]})]}),(0,s.jsx)(b,{children:(0,s.jsx)(u.$,{onClick:()=>a(!1),children:"Закрыть"})})]})}),(0,s.jsx)(d.Lt,{open:o,onOpenChange:m,children:(0,s.jsxs)(d.EO,{children:[(0,s.jsxs)(d.wd,{children:[(0,s.jsx)(d.r7,{children:"Удаление всех данных"}),(0,s.jsx)(d.$v,{children:"Вы уверены, что хотите удалить все сохраненные данные? Это действие нельзя отменить."})]}),(0,s.jsxs)(d.ck,{children:[(0,s.jsx)(d.Zr,{children:"Отмена"}),(0,s.jsx)(d.Rx,{onClick:x,children:"Удалить"})]})]})})]})}function E(){let[e,t]=(0,c.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(u.$,{variant:"ghost",size:"icon",className:"rounded-full",onClick:()=>t(!0),children:[(0,s.jsx)(o.A,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"sr-only",children:"Настройки"})]}),(0,s.jsx)(C,{open:e,onOpenChange:t})]})}function R(e){let{title:t,showBackButton:a=!1,showVersion:r=!0,onBackClick:o}=e,c=(0,l.useRouter)();return(0,s.jsxs)("header",{className:"sticky top-0 z-10 bg-background/80 backdrop-blur-sm border-b p-4 flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[a&&(0,s.jsx)(u.$,{variant:"ghost",size:"icon",className:"mr-2",onClick:()=>{o?o():c.push("/")},children:(0,s.jsx)(i.A,{className:"h-5 w-5"})}),(0,s.jsxs)("h1",{className:"text-xl font-semibold",children:[t||"Exam App"," ",r&&(0,s.jsx)("span",{className:"text-gray-400 text-base font-normal",children:n.C3})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[r&&(0,s.jsxs)("span",{className:"text-sm text-gray-400 mr-2",children:["v.",n.VL]}),(0,s.jsx)(E,{})]})]})}function P(e){let{children:t,isLoading:a=!1,headerTitle:n,showVersion:i=!0,footer:l,centerContent:o=!1}=e;return a?(0,s.jsx)(r,{message:"Загрузка..."}):(0,s.jsxs)("div",{className:"min-h-screen flex flex-col bg-background",children:[(0,s.jsx)(R,{title:n,showVersion:i}),(0,s.jsx)("main",{className:"flex-1 p-4 ".concat(o?"flex flex-col justify-center items-center":""),children:t}),l]})}},9434:(e,t,a)=>{a.d(t,{cn:()=>n,k:()=>i});var s=a(2596),r=a(9688);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}function i(e){let t=e.length,a=new Uint32Array(t);crypto.getRandomValues(a);for(let s=t-1;s>0;s--){let t=Math.floor(a[s]/0x100000000*(s+1));[e[s],e[t]]=[e[t],e[s]]}return e}}}]);