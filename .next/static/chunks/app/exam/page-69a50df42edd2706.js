(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[344],{1096:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>G});var n=t(5155),r=t(9434),i=t(9428);function l(e){let{index:s,text:t,isSelected:l,onClick:a}=e;return(0,n.jsxs)("button",{className:(0,r.cn)("flex items-center w-full p-3 rounded-md border text-left transition-all",l?"bg-primary/10 border-primary/50 border-2":"hover:bg-secondary/50 border-border"),onClick:a,children:[(0,n.jsx)("div",{className:"mr-3",children:l?(0,n.jsx)("div",{className:"h-6 w-6 rounded-full bg-primary flex items-center justify-center text-primary-foreground",children:s+1}):(0,n.jsx)("div",{className:"h-6 w-6 rounded-full border-2 border-muted-foreground flex items-center justify-center",children:s+1})}),(0,n.jsx)("div",{className:"flex-1 text-base sm:text-lg",children:t}),(0,n.jsx)("div",{className:"ml-2",children:l&&(0,n.jsx)(i.A,{className:"h-5 w-5 fill-primary stroke-primary-foreground"})})]})}var a=t(10),c=t(285);function o(e){let{isFinish:s,onConfirm:t}=e;return(0,n.jsxs)(a.Lt,{children:[(0,n.jsx)(a.tv,{asChild:!0,children:(0,n.jsx)(c.$,{className:"w-30 h-10 text-xl",children:"Закончить"})}),(0,n.jsxs)(a.EO,{children:[(0,n.jsxs)(a.wd,{children:[(0,n.jsx)(a.r7,{children:"Вы уверены?"}),!s&&(0,n.jsx)(a.$v,{children:"Вы еще не ответили на все вопросы"})]}),(0,n.jsxs)(a.ck,{children:[(0,n.jsx)(a.Zr,{children:"Отменить"}),(0,n.jsx)(a.Rx,{onClick:t,children:"Закончить тестирование"})]})]})]})}var d=t(2115),u=t(6081),m=t(3655),x="Progress",[h,g]=(0,u.A)(x),[f,v]=h(x),w=d.forwardRef((e,s)=>{var t,r,i,l;let{__scopeProgress:a,value:c=null,max:o,getValueLabel:d=b,...u}=e;(o||0===o)&&!k(o)&&console.error((t="".concat(o),r="Progress","Invalid prop `max` of value `".concat(t,"` supplied to `").concat(r,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let x=k(o)?o:100;null===c||C(c,x)||console.error((i="".concat(c),l="Progress","Invalid prop `value` of value `".concat(i,"` supplied to `").concat(l,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let h=C(c,x)?c:null,g=y(h)?d(h,x):void 0;return(0,n.jsx)(f,{scope:a,value:h,max:x,children:(0,n.jsx)(m.sG.div,{"aria-valuemax":x,"aria-valuemin":0,"aria-valuenow":y(h)?h:void 0,"aria-valuetext":g,role:"progressbar","data-state":N(h,x),"data-value":null!=h?h:void 0,"data-max":x,...u,ref:s})})});w.displayName=x;var j="ProgressIndicator",p=d.forwardRef((e,s)=>{var t;let{__scopeProgress:r,...i}=e,l=v(j,r);return(0,n.jsx)(m.sG.div,{"data-state":N(l.value,l.max),"data-value":null!==(t=l.value)&&void 0!==t?t:void 0,"data-max":l.max,...i,ref:s})});function b(e,s){return"".concat(Math.round(e/s*100),"%")}function N(e,s){return null==e?"indeterminate":e===s?"complete":"loading"}function y(e){return"number"==typeof e}function k(e){return y(e)&&!isNaN(e)&&e>0}function C(e,s){return y(e)&&!isNaN(e)&&e<=s&&e>=0}function Q(e){let{className:s,value:t,...i}=e;return(0,n.jsx)(w,{"data-slot":"progress",className:(0,r.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",s),...i,children:(0,n.jsx)(p,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(t||0),"%)")}})})}function A(e){let{currentQuestion:s,totalQuestions:t,progressPercentage:r}=e;return(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,n.jsxs)("span",{className:"text-base",children:["Вопрос ",s+1," из ",t]}),(0,n.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Прогресс: ",Math.round(r),"%"]})]}),(0,n.jsx)(Q,{value:r,className:"h-2"})]})}p.displayName=j;var S=t(9946);let q=(0,S.A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),R=(0,S.A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),I=(0,S.A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),T=(0,S.A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);function O(e){let{initialMinutes:s,onTimeUp:t,className:i}=e,[l,a]=(0,d.useState)(60*s),[c,o]=(0,d.useState)(!1),[u,m]=(0,d.useState)(!1);return(0,d.useEffect)(()=>{let e=setInterval(()=>{a(s=>s<=1?(clearInterval(e),t(),0):s-1)},1e3);return()=>clearInterval(e)},[t]),(0,d.useEffect)(()=>{o(l<15*s),m(l<6*s)},[l,s]),(0,n.jsxs)("div",{className:(0,r.cn)("flex items-center gap-2 font-mono text-lg",c&&"text-yellow-500",u&&"text-red-500 animate-pulse",i),children:[(0,n.jsx)(I,{className:"h-5 w-5"}),(0,n.jsx)("span",{children:(e=>{let s=Math.floor(e/60),t=e%60;return"".concat(s,":").concat(t<10?"0":"").concat(t)})(l)})]})}function E(e){let{studentName:s,examDate:t,timeSpent:i,terminationReason:l,finalScore:a,pointsScore:c,gradeScore:o,correctAnswers:d,totalQuestions:u,selectedAnswers:m,isAnswerCorrect:x}=e;return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-2 mt-2 text-base",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(q,{className:"h-4 w-4"}),(0,n.jsxs)("span",{children:["Студент: ",s]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(R,{className:"h-4 w-4"}),(0,n.jsxs)("span",{children:["Дата:"," ",t?new Intl.DateTimeFormat("ru-RU",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t):"Не указана"]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(I,{className:"h-4 w-4"}),(0,n.jsxs)("span",{children:["Время выполнения: ",function(e){let s=Math.floor(e/60),t=Math.floor(s/60);return t>0?"".concat(t," ч ").concat(s%60," мин"):"".concat(s," мин ").concat(e%60," сек")}(i)]})]}),l&&(0,n.jsxs)("div",{className:"flex items-center gap-2 text-red-500",children:[(0,n.jsx)(T,{className:"h-4 w-4"}),(0,n.jsxs)("span",{children:["Причина завершения: ",l]})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 w-full mt-6",children:[(0,n.jsxs)("div",{className:"flex flex-col items-center p-3 border rounded-lg",children:[(0,n.jsx)("div",{className:"text-base font-medium mb-1",children:"Процент"}),(0,n.jsxs)("div",{className:"text-2xl sm:text-3xl font-bold",children:[a.toFixed(1),"%"]})]}),(0,n.jsxs)("div",{className:"flex flex-col items-center p-3 border rounded-lg",children:[(0,n.jsx)("div",{className:"text-base font-medium mb-1",children:"Баллы"}),(0,n.jsxs)("div",{className:"text-2xl sm:text-3xl font-bold",children:[c,"/100"]})]}),(0,n.jsxs)("div",{className:"flex flex-col items-center p-3 border rounded-lg",children:[(0,n.jsx)("div",{className:"text-base font-medium mb-1",children:"Оценка"}),(0,n.jsxs)("div",{className:"text-2xl sm:text-3xl font-bold",children:[o,"/5"]})]})]}),(0,n.jsxs)("div",{className:"text-lg sm:text-xl mt-6",children:["Правильных ответов: ",d," из ",u]}),(0,n.jsx)(Q,{value:a,className:"w-full h-3 mt-2"}),(0,n.jsxs)("div",{className:"w-full mt-6",children:[(0,n.jsx)("h3",{className:"text-base sm:text-lg mb-2",children:"Результаты по вопросам:"}),(0,n.jsx)("div",{className:"flex flex-wrap gap-2 justify-center",children:Array.from({length:u}).map((e,s)=>{let t=void 0!==m[s],i=x(s);return(0,n.jsx)("div",{className:(0,r.cn)("h-8 w-8 rounded-full text-sm flex items-center justify-center",t&&i?"bg-green-500 text-white":t&&!i?"bg-red-500 text-white":"bg-yellow-500 text-white"),title:t?i?"Правильно":"Неправильно":"Не отвечено",children:s+1},"result-".concat(s))})})]}),(0,n.jsx)("div",{className:"text-base sm:text-lg mt-6 text-center",children:o>=4?"Отличный результат! Вы хорошо подготовлены.":o>=3?"Хороший результат! Есть некоторые области для улучшения.":"Вам стоит повторить материал и попробовать снова."})]})}var F=t(8990),M=t(6805);let L=(0,S.A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),D=(0,S.A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);function $(e){let{currentIndex:s,totalItems:t,onSelect:i,selectedItems:l={},isReview:a=!1,isAnswerCorrect:o=()=>!1}=e,[u,m]=(0,d.useState)(!1);return(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)(c.$,{variant:"ghost",size:"sm",onClick:()=>{m(!u)},className:"flex items-center justify-center w-full text-sm py-1 h-auto",children:u?(0,n.jsxs)(n.Fragment,{children:["Скрыть навигацию ",(0,n.jsx)(L,{className:"ml-1 h-4 w-4"})]}):(0,n.jsxs)(n.Fragment,{children:["Показать навигацию ",(0,n.jsx)(D,{className:"ml-1 h-4 w-4"})]})}),u&&(0,n.jsx)("div",{className:"flex flex-wrap justify-center gap-2 mt-2 p-2 border rounded-md bg-background/50 backdrop-blur-sm",children:Array.from({length:t}).map((e,t)=>{let c=t===s,d=void 0!==l[t],u="";return u=a&&d?o(t)?"bg-green-500 hover:bg-green-600 text-white":"bg-red-500 hover:bg-red-600 text-white":d?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground",(0,n.jsx)("button",{className:(0,r.cn)("h-8 w-8 rounded-full text-sm flex items-center justify-center transition-colors",c?"ring-2 ring-offset-2 ring-offset-background ring-primary":"",u),onClick:()=>i(t),children:t+1},"pagination-".concat(t))})})]})}function P(e){let{title:s}=e,t=s.split("\n").map((e,t)=>(0,n.jsxs)(d.Fragment,{children:[e,t<s.split("\n").length-1&&(0,n.jsx)("br",{})]},t));return(0,n.jsx)("div",{children:t})}let z=(0,S.A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);function U(e){let{index:s,text:t,isSelected:i,isCorrect:l}=e,a="";return i&&l?a="bg-green-100 dark:bg-green-900/30":i&&!l?a="bg-red-100 dark:bg-red-900/30":!i&&l&&(a="bg-green-50 dark:bg-green-900/20"),(0,n.jsxs)("div",{className:(0,r.cn)("flex items-center p-3 rounded-md border",a,i&&"border-2",i&&l?"border-green-500":i&&!l?"border-red-500":!i&&l?"border-green-300":"border-gray-200"),children:[(0,n.jsx)("div",{className:"mr-3",children:(0,n.jsx)("div",{className:(0,r.cn)("h-6 w-6 rounded-full flex items-center justify-center",i&&l?"bg-green-500 text-white":i&&!l?"bg-red-500 text-white":!i&&l?"bg-green-200 text-green-800":"border-2 border-muted-foreground"),children:s+1})}),(0,n.jsx)("div",{className:"flex-1 text-base sm:text-lg",children:t}),(0,n.jsxs)("div",{className:"ml-2",children:[i&&l&&(0,n.jsx)(z,{className:"h-5 w-5 text-green-500"}),i&&!l&&(0,n.jsx)(T,{className:"h-5 w-5 text-red-500"}),!i&&l&&(0,n.jsx)(z,{className:"h-5 w-5 text-green-500 opacity-50"})]})]})}var _=t(4559),X=t(2444),B=t(5695);function G(){let e=function(){let e=(0,B.useRouter)(),[s,n]=(0,d.useState)({settings:null,questions:[],currentQuestion:0,selectedAnswers:{},selectedOriginalAnswers:{},isFinished:!1,finalScore:0,pointsScore:0,gradeScore:0,showResults:!1,showReview:!1,progress:0,reviewQuestion:0,startTime:null,endTime:null,timeSpent:0,isLoading:!0,examDate:null,terminationReason:null}),i=(0,d.useCallback)(e=>{n(s=>({...s,...e}))},[]),l=(0,d.useCallback)(async()=>{i({isLoading:!0});try{let s=await (0,X.X8)();if(!s){e.push("/exam/settings");return}let t=new Date,n=t.toISOString(),l=await fetch(_.AL).then(e=>e.json()),a=s.tasksCount||30,c=(0,r.k)(l.questions).slice(0,a).map(e=>{let s=e.answers.map((e,s)=>({...e,originalIndex:s}));return{...e,answers:(0,r.k)(s)}});i({settings:s,questions:c,startTime:t,examDate:n,progress:0,isLoading:!1})}catch(s){console.error("Error initializing exam:",s),e.push("/exam/settings")}},[e,i]),a=(0,d.useCallback)(e=>{n(s=>{let t=s.questions[s.currentQuestion].answers[e].originalIndex,n={...s.selectedAnswers,[s.currentQuestion]:e},r={...s.selectedOriginalAnswers,[s.currentQuestion]:t},i=Object.keys(n).length/s.questions.length*100,l=isNaN(i)?0:i;return{...s,selectedAnswers:n,selectedOriginalAnswers:r,progress:l}})},[]),c=(0,d.useCallback)(()=>n(e=>{if(0===e.questions.length)return{...e,progress:0};let s=Object.keys(e.selectedAnswers).length/e.questions.length*100;return{...e,progress:isNaN(s)?0:s}}),[]),o=(0,d.useCallback)(()=>{n(e=>e.currentQuestion<e.questions.length-1?{...e,currentQuestion:e.currentQuestion+1}:e)},[]),u=(0,d.useCallback)(()=>{n(e=>e.currentQuestion>0?{...e,currentQuestion:e.currentQuestion-1}:e)},[]),m=(0,d.useCallback)(e=>{i({currentQuestion:e})},[i]),x=(0,d.useCallback)(()=>{n(e=>e.reviewQuestion<e.questions.length-1?{...e,reviewQuestion:e.reviewQuestion+1}:e)},[]),h=(0,d.useCallback)(()=>{n(e=>e.reviewQuestion>0?{...e,reviewQuestion:e.reviewQuestion-1}:e)},[]),g=(0,d.useCallback)(e=>{i({reviewQuestion:e})},[i]),f=(0,d.useCallback)(async e=>{n(s=>s.isFinished?s:{...s,terminationReason:e}),await w()},[]),v=(0,d.useCallback)(()=>{n(e=>{let s=0;Object.entries(e.selectedOriginalAnswers).forEach(t=>{let[n,r]=t,i=e.questions[Number.parseInt(n)].answers.filter(e=>e.originalIndex===r);i.length>0&&i[0].isCorrect&&s++});let t=e.questions.length>0?s/e.questions.length*100:0,n=Math.round(t),r=2;return t>=90?r=5:t>=75?r=4:t>=60&&(r=3),{...e,finalScore:t,pointsScore:n,gradeScore:r}})},[]),w=(0,d.useCallback)(async()=>{n(e=>{if(e.isFinished)return e;let s=new Date,t=0;return e.startTime&&(t=Math.floor((s.getTime()-e.startTime.getTime())/1e3)),{...e,isFinished:!0,endTime:s,timeSpent:t}}),v(),i({showResults:!0}),await (0,X.kq)(),n(e=>{if(e.settings){let s=new Date,t=Math.round(e.finalScore/100*e.questions.length);(0,X.I2)({studentName:e.settings.studentName,date:e.examDate||s.toISOString(),score:e.finalScore,pointsScore:e.pointsScore,gradeScore:e.gradeScore,timeSpent:e.timeSpent,questionsCount:e.questions.length,correctAnswers:t,terminationReason:e.terminationReason}).catch(e=>{console.error("Error saving exam results:",e)})}return e})},[v,i]),j=(0,d.useCallback)(()=>{n(e=>(e.isFinished||w(),e))},[w]),p=(0,d.useCallback)(()=>{e.push("/")},[e]),b=(0,d.useCallback)(()=>{i({showResults:!1,showReview:!0,reviewQuestion:0})},[i]),N=(0,d.useCallback)(()=>{i({showReview:!1,showResults:!0})},[i]),y=(0,d.useCallback)(e=>{if(void 0===s.selectedOriginalAnswers[e])return!1;let t=s.selectedOriginalAnswers[e],n=s.questions[e].answers.filter(e=>e.originalIndex===t);return n.length>0&&n[0].isCorrect},[s.questions,s.selectedOriginalAnswers]),k=(0,d.useCallback)(e=>void 0===s.selectedAnswers[e]?"Не отвечено":y(e)?"Правильно":"Неправильно",[s.selectedAnswers,y]);return(0,d.useEffect)(()=>{let e=async()=>{if(0===s.questions.length||s.isFinished)return;let e={currentQuestion:s.currentQuestion,selectedAnswers:s.selectedAnswers,selectedOriginalAnswers:s.selectedOriginalAnswers,startTime:s.startTime?s.startTime.toISOString():new Date().toISOString(),progress:s.progress,questions:s.questions};await (0,X.sV)(e)},t=()=>{e()};window.addEventListener("beforeunload",t);let n=setInterval(()=>{e()},1e4);return()=>{window.removeEventListener("beforeunload",t),clearInterval(n),e()}},[s.questions,s.currentQuestion,s.selectedAnswers,s.selectedOriginalAnswers,s.startTime,s.isFinished,s.progress]),(0,d.useEffect)(()=>{if(s.isFinished||s.isLoading||!s.settings)return;let e=()=>{document.hidden&&f("Приложение было свернуто или переключено")},n=async()=>{try{let{getCurrentWindow:e}=await t.e(426).then(t.bind(t,7426)),s=e(),n=await s.listen("tauri://close-requested",()=>{f("Попытка закрыть приложение во время экзамена")});return()=>{n()}}catch(e){console.error("Error setting up Tauri listeners:",e)}};document.addEventListener("visibilitychange",e);let r=n();return()=>{document.removeEventListener("visibilitychange",e),null==r||r.then(e=>{e&&e()})}},[s.isFinished,s.isLoading,s.settings,f]),(0,d.useEffect)(()=>{l()},[l]),{...s,handleAnswerSelect:a,handleNextQuestion:o,handlePrevQuestion:u,handleJumpToQuestion:m,handleNextReviewQuestion:x,handlePrevReviewQuestion:h,handleJumpToReviewQuestion:g,handleFinishExam:w,handleTimeUp:j,handleReturnHome:p,handleShowReview:b,handleBackToResults:N,isAnswerCorrect:y,getUserAnswerStatus:k,calculateProgressValue:c}}();if(e.showReview){let s=e.questions[e.reviewQuestion],t=e.selectedAnswers[e.reviewQuestion],r=e.getUserAnswerStatus(e.reviewQuestion),i="Правильно"===r?"text-green-500":"Неправильно"===r?"text-red-500":"text-yellow-500",l=(0,n.jsxs)(F.j,{children:[(0,n.jsx)(c.$,{variant:"outline",className:"h-10 text-base",onClick:e.handlePrevReviewQuestion,disabled:0===e.reviewQuestion,children:"Назад"}),(0,n.jsx)(c.$,{variant:"outline",className:"h-10 text-base",onClick:e.handleBackToResults,children:"К результатам"}),(0,n.jsx)(c.$,{className:"h-10 text-base",onClick:e.handleNextReviewQuestion,disabled:e.reviewQuestion===e.questions.length-1,children:"Далее"})]});return(0,n.jsxs)(M.e,{headerTitle:"Просмотр ответов",footer:l,children:[(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mt-2 gap-2",children:[(0,n.jsxs)("span",{className:"text-base",children:["Вопрос ",e.reviewQuestion+1," из ",e.questions.length]}),(0,n.jsx)("span",{className:"text-base font-medium flex items-center gap-2 ".concat(i),children:r})]}),(0,n.jsx)(A,{currentQuestion:e.reviewQuestion,totalQuestions:e.questions.length,progressPercentage:(e.reviewQuestion+1)/e.questions.length*100}),(0,n.jsx)($,{currentIndex:e.reviewQuestion,totalItems:e.questions.length,onSelect:e.handleJumpToReviewQuestion,selectedItems:e.selectedAnswers,isReview:!0,isAnswerCorrect:e.isAnswerCorrect}),(0,n.jsxs)("div",{className:"mt-6",children:[(0,n.jsx)("h3",{className:"text-lg sm:text-xl mb-4",children:(0,n.jsx)(P,{title:s.title})}),(0,n.jsx)("div",{className:"mt-4 space-y-3",children:s.answers.map((e,s)=>(0,n.jsx)(U,{index:s,text:e.text,isSelected:t===s,isCorrect:e.isCorrect},"review-answer-".concat(s)))})]})]})}if(e.showResults){let s=(0,n.jsxs)(F.j,{children:[(0,n.jsx)(c.$,{className:"h-10 text-base",onClick:e.handleReturnHome,children:"На главную"}),(0,n.jsx)(c.$,{className:"h-10 text-base",onClick:e.handleShowReview,children:"Просмотр ответов"})]});return(0,n.jsx)(M.e,{headerTitle:"Результаты тестирования",footer:s,children:e.settings&&(0,n.jsx)(E,{studentName:e.settings.studentName,examDate:e.endTime,timeSpent:e.timeSpent,terminationReason:e.terminationReason,finalScore:e.finalScore,pointsScore:e.pointsScore,gradeScore:e.gradeScore,correctAnswers:Math.round(e.finalScore/100*e.questions.length),totalQuestions:e.questions.length,selectedAnswers:e.selectedAnswers,isAnswerCorrect:e.isAnswerCorrect})})}if(e.isLoading||!e.settings)return(0,n.jsx)(M.e,{isLoading:!0});let s=(0,n.jsxs)(F.j,{children:[(0,n.jsx)(c.$,{variant:"outline",className:"h-10 text-base",onClick:e.handlePrevQuestion,disabled:e.currentQuestion<1,children:"Назад"}),(0,n.jsx)(o,{isFinish:Object.keys(e.selectedAnswers).length===e.questions.length,onConfirm:e.handleFinishExam}),e.currentQuestion<e.questions.length-1?(0,n.jsx)(c.$,{className:"h-10 text-base",onClick:e.handleNextQuestion,children:"Далее"}):(0,n.jsx)(c.$,{className:"h-10 text-base",onClick:e.handleFinishExam,children:"Завершить"})]});return(0,n.jsxs)(M.e,{headerTitle:"Тестирование",footer:s,children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(q,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"text-base",children:e.settings.studentName})]}),(0,n.jsx)(O,{initialMinutes:e.settings.timeTaken,onTimeUp:e.handleTimeUp,className:"text-base"})]}),(0,n.jsx)(A,{currentQuestion:e.currentQuestion,totalQuestions:e.questions.length,progressPercentage:e.progress}),(0,n.jsx)($,{currentIndex:e.currentQuestion,totalItems:e.questions.length,onSelect:e.handleJumpToQuestion,selectedItems:e.selectedAnswers}),(0,n.jsxs)("div",{className:"mt-6",children:[(0,n.jsx)("h3",{className:"text-lg sm:text-xl mb-4",children:(0,n.jsx)(P,{title:e.questions[e.currentQuestion].title})}),(0,n.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:void 0!==e.selectedAnswers[e.currentQuestion]?"Выбран ответ: ".concat(e.selectedAnswers[e.currentQuestion]+1):"Ответ не выбран"}),(0,n.jsx)("div",{className:"mt-4 space-y-3",children:e.questions[e.currentQuestion].answers.map((s,t)=>(0,n.jsx)(l,{index:t,text:s.text,isSelected:e.selectedAnswers[e.currentQuestion]===t,onClick:()=>e.handleAnswerSelect(t)},"answer-".concat(t)))})]})]})}},4047:(e,s,t)=>{Promise.resolve().then(t.bind(t,1096))},8990:(e,s,t)=>{"use strict";t.d(s,{j:()=>r});var n=t(5155);function r(e){let{children:s}=e;return(0,n.jsx)("footer",{className:"sticky bottom-0 z-10 bg-background/80 backdrop-blur-sm border-t p-4 flex flex-wrap justify-between gap-2 mt-auto",children:s})}}},e=>{var s=s=>e(e.s=s);e.O(0,[469,805,441,684,358],()=>s(4047)),_N_E=e.O()}]);