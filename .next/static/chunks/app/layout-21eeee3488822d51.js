(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{229:(e,t,a)=>{"use strict";a.d(t,{SettingsProvider:()=>l,t:()=>c});var s=a(5155),r=a(2444),n=a(2115);let o=(0,n.createContext)(void 0),i=e=>{let t=document.documentElement,a=document.body;switch(a.classList.remove("font-size-small","font-size-medium","font-size-large"),a.classList.add("font-size-".concat(e)),e){case"small":t.style.setProperty("--base-font-size","16px");break;case"medium":t.style.setProperty("--base-font-size","20px");break;case"large":t.style.setProperty("--base-font-size","24px")}};function l(e){let{children:t}=e,[a,l]=(0,n.useState)("medium"),[c,m]=(0,n.useState)(!1),u=async()=>{try{let e=await (0,r.nt)();if(null==e?void 0:e.fontSize)l(e.fontSize),i(e.fontSize);else{let e=await (0,r.Xb)()?"small":"medium";l(e),i(e),await (0,r.Wp)({fontSize:e,theme:null})}}catch(t){console.error("Error loading settings:",t);let e=localStorage.getItem("appFontSize");if(e)l(e),i(e);else{let e=window.innerWidth<768?"small":"medium";l(e),i(e),localStorage.setItem("appFontSize",e)}}m(!0)};return(0,n.useEffect)(()=>{u()},[]),(0,n.useEffect)(()=>{c&&(localStorage.setItem("appFontSize",a),i(a),(0,r.Wp)({fontSize:a,theme:localStorage.getItem("theme")}).catch(console.error))},[a,c]),(0,s.jsx)(o.Provider,{value:{fontSize:a,setFontSize:l,loadTauriSettings:u},children:t})}function c(){let e=(0,n.useContext)(o);if(void 0===e)throw Error("useSettings must be used within a SettingsProvider");return e}},347:()=>{},1362:(e,t,a)=>{"use strict";a.d(t,{D:()=>c,N:()=>m});var s=a(2115),r=(e,t,a,s,r,n,o,i)=>{let l=document.documentElement,c=["light","dark"];function m(t){var a;(Array.isArray(e)?e:[e]).forEach(e=>{let a="class"===e,s=a&&n?r.map(e=>n[e]||e):r;a?(l.classList.remove(...s),l.classList.add(n&&n[t]?n[t]:t)):l.setAttribute(e,t)}),a=t,i&&c.includes(a)&&(l.style.colorScheme=a)}if(s)m(s);else try{let e=localStorage.getItem(t)||a,s=o&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;m(s)}catch(e){}},n=["light","dark"],o="(prefers-color-scheme: dark)",i=s.createContext(void 0),l={setTheme:e=>{},themes:[]},c=()=>{var e;return null!=(e=s.useContext(i))?e:l},m=e=>s.useContext(i)?s.createElement(s.Fragment,null,e.children):s.createElement(d,{...e}),u=["light","dark"],d=e=>{let{forcedTheme:t,disableTransitionOnChange:a=!1,enableSystem:r=!0,enableColorScheme:l=!0,storageKey:c="theme",themes:m=u,defaultTheme:d=r?"system":"light",attribute:y="data-theme",value:w,children:p,nonce:v,scriptProps:b}=e,[x,I]=s.useState(()=>f(c,d)),[_,E]=s.useState(()=>"system"===x?S():x),N=w?Object.values(w):m,P=s.useCallback(e=>{let t=e;if(!t)return;"system"===e&&r&&(t=S());let s=w?w[t]:t,o=a?h(v):null,i=document.documentElement,c=e=>{"class"===e?(i.classList.remove(...N),s&&i.classList.add(s)):e.startsWith("data-")&&(s?i.setAttribute(e,s):i.removeAttribute(e))};if(Array.isArray(y)?y.forEach(c):c(y),l){let e=n.includes(d)?d:null,a=n.includes(t)?t:e;i.style.colorScheme=a}null==o||o()},[v]),k=s.useCallback(e=>{let t="function"==typeof e?e(x):e;I(t);try{localStorage.setItem(c,t)}catch(e){}},[x]),O=s.useCallback(e=>{E(S(e)),"system"===x&&r&&!t&&P("system")},[x,t]);s.useEffect(()=>{let e=window.matchMedia(o);return e.addListener(O),O(e),()=>e.removeListener(O)},[O]),s.useEffect(()=>{let e=e=>{e.key===c&&(e.newValue?I(e.newValue):k(d))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[k]),s.useEffect(()=>{P(null!=t?t:x)},[t,x]);let T=s.useMemo(()=>({theme:x,setTheme:k,forcedTheme:t,resolvedTheme:"system"===x?_:x,themes:r?[...m,"system"]:m,systemTheme:r?_:void 0}),[x,k,t,_,r,m]);return s.createElement(i.Provider,{value:T},s.createElement(g,{forcedTheme:t,storageKey:c,attribute:y,enableSystem:r,enableColorScheme:l,defaultTheme:d,value:w,themes:m,nonce:v,scriptProps:b}),p)},g=s.memo(e=>{let{forcedTheme:t,storageKey:a,attribute:n,enableSystem:o,enableColorScheme:i,defaultTheme:l,value:c,themes:m,nonce:u,scriptProps:d}=e,g=JSON.stringify([n,a,l,t,m,c,o,i]).slice(1,-1);return s.createElement("script",{...d,suppressHydrationWarning:!0,nonce:"",dangerouslySetInnerHTML:{__html:"(".concat(r.toString(),")(").concat(g,")")}})}),f=(e,t)=>{let a;try{a=localStorage.getItem(e)||void 0}catch(e){}return a||t},h=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},S=e=>(e||(e=window.matchMedia(o)),e.matches?"dark":"light")},1483:(e,t,a)=>{"use strict";a.d(t,{ThemeProvider:()=>n});var s=a(5155),r=a(1362);function n(e){let{children:t,...a}=e;return(0,s.jsx)(r.N,{...a,children:t})}a(2115)},2093:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_4d318d",variable:"__variable_4d318d"}},2444:(e,t,a)=>{"use strict";function s(){return void 0!==window.__TAURI__||"__TAURI_METADATA__"in window||navigator.userAgent.includes("Tauri")}async function r(e){try{if(s()){let{load:t}=await a.e(813).then(a.bind(a,2813));return await t(e)}return null}catch(t){return console.error("Ошибка при получении хранилища ".concat(e,":"),t),null}}async function n(e){try{if(s()){let t=await r("settings.dat");if(t){await t.set("appSettings",e),await t.save();return}}localStorage.setItem("appSettings",JSON.stringify(e))}catch(t){console.error("Ошибка при сохранении настроек приложения:",t),localStorage.setItem("appSettings",JSON.stringify(e))}}async function o(){try{if(s()){let e=await r("settings.dat");if(e)return await e.get("appSettings")}let e=localStorage.getItem("appSettings");return e?JSON.parse(e):null}catch(t){console.error("Ошибка при загрузке настроек приложения:",t);let e=localStorage.getItem("appSettings");return e?JSON.parse(e):null}}async function i(e){try{if(s()){let t=await r("exam-settings.dat");if(t){await t.set("examSettings",e),await t.save();return}}localStorage.setItem("examSettings",JSON.stringify(e))}catch(t){console.error("Ошибка при сохранении настроек экзамена:",t),localStorage.setItem("examSettings",JSON.stringify(e))}}async function l(){try{if(s()){let e=await r("exam-settings.dat");if(e)return await e.get("examSettings")}let e=localStorage.getItem("examSettings");return e?JSON.parse(e):null}catch(t){console.error("Ошибка при загрузке настроек экзамена:",t);let e=localStorage.getItem("examSettings");return e?JSON.parse(e):null}}async function c(e){try{if(s()){let t=await r("exam-results.dat");if(t){let a=[...await t.get("examResults")||[],e];await t.set("examResults",a),await t.set("lastExamResult",e),await t.save();return}}let t=localStorage.getItem("examResults"),a=t?JSON.parse(t):[];a.push(e),localStorage.setItem("examResults",JSON.stringify(a)),localStorage.setItem("lastExamResult",JSON.stringify(e))}catch(s){console.error("Ошибка при сохранении результатов экзамена:",s);let t=localStorage.getItem("examResults"),a=t?JSON.parse(t):[];a.push(e),localStorage.setItem("examResults",JSON.stringify(a)),localStorage.setItem("lastExamResult",JSON.stringify(e))}}async function m(e){try{if(s()){let t=await r("exam-progress.dat");if(t){await t.set("examProgress",e),await t.save();return}}sessionStorage.setItem("examProgress",JSON.stringify(e))}catch(t){console.error("Ошибка при сохранении прогресса экзамена:",t),sessionStorage.setItem("examProgress",JSON.stringify(e))}}async function u(){try{if(s()){let e=await r("exam-progress.dat");if(e){await e.delete("examProgress"),await e.save();return}}sessionStorage.removeItem("examProgress")}catch(e){console.error("Ошибка при очистке прогресса экзамена:",e),sessionStorage.removeItem("examProgress")}}async function d(){try{if(s()){let e=await r("settings.dat");e&&(await e.clear(),await e.save());let t=await r("exam-settings.dat");t&&(await t.clear(),await t.save());let a=await r("exam-results.dat");a&&(await a.clear(),await a.save());let s=await r("exam-progress.dat");s&&(await s.clear(),await s.save());return}localStorage.clear(),sessionStorage.clear()}catch(e){console.error("Ошибка при очистке данных:",e),localStorage.clear(),sessionStorage.clear()}}async function g(){try{if(s()){let{platform:e}=await a.e(790).then(a.bind(a,8790)),t=await e();return"android"===t||"ios"===t}return window.innerWidth<768}catch(e){return console.error("Ошибка при определении устройства:",e),window.innerWidth<768}}a.d(t,{Bq:()=>d,I2:()=>c,Kw:()=>s,Wp:()=>n,X8:()=>l,Xb:()=>g,kq:()=>u,nt:()=>o,sV:()=>m,uL:()=>i})},3035:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2093,23)),Promise.resolve().then(a.t.bind(a,7735,23)),Promise.resolve().then(a.t.bind(a,347,23)),Promise.resolve().then(a.bind(a,1483)),Promise.resolve().then(a.bind(a,229))},7735:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_ea5f4b",variable:"__variable_ea5f4b"}}},e=>{var t=t=>e(e.s=t);e.O(0,[360,441,684,358],()=>t(3035)),_N_E=e.O()}]);